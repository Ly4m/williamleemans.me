---
interface NavItem {
  label: string;
  href: string;
  icon?: string; // Optional icon for mobile display
}

const { items = [] }: { items?: NavItem[] } = Astro.props;
const current = Astro.url.pathname;
---

<!-- Mobile header with icons -->
<header
  class="fixed inset-x-0 top-0 z-50 flex h-14 items-center justify-between px-4 md:hidden"
>
  <a href="/" class="font-medium font-space tracking-tight">W&nbsp;L</a>

  <!-- Mobile navigation icons -->
  <nav class="flex items-center gap-3">
    {
      items.map(({ label, href, icon }) => {
        const active =
          current === href || (href !== "/" && current.startsWith(href));
        return (
          <a
            href={href}
            class={[
              "flex h-8 w-8 items-center justify-center rounded-md text-sm transition",
              active
                ? "bg-black text-white"
                : "text-gray-600 hover:bg-gray-100 hover:text-black"
            ].join(" ")}
            title={label}
          >
            {icon ? (
              <i class={`iconify ${icon} text-lg`}></i>
            ) : (
              <span class="text-xs font-medium uppercase">
                {label.charAt(0)}
              </span>
            )}
          </a>
        );
      })
    }

    <!-- Social links for mobile -->
    <div class="ml-2 flex gap-2 border-l border-gray-200 pl-3">
      <a
        href="https://github.com/Ly4m"
        rel="noopener noreferrer"
        target="_blank"
        class="flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:bg-gray-100 hover:text-black"
        title="GitHub"
      >
        <i class="icon-[tabler--brand-github] text-lg" aria-hidden="true"></i>
      </a>
      <a
        href="https://www.linkedin.com/in/wleemans"
        rel="noopener noreferrer"
        target="_blank"
        class="flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:bg-gray-100 hover:text-black"
        title="LinkedIn"
      >
        <i class="icon-[tabler--brand-linkedin] text-lg" aria-hidden="true"></i>
      </a>
    </div>
  </nav>
</header>

<!-- Desktop sidebar navigation -->
<aside
  class="text-charcoal fixed top-0 left-0 z-40 hidden h-screen w-64 md:block"
  aria-label="Navigation latérale"
>
  <div class="flex h-16 items-center px-6">
    <a href="/" class="font-medium tracking-tight">W&nbsp;L</a>
  </div>

  <nav class="space-y-2 px-6 py-6">
    {
      items.map(({ label, href }) => {
        const active =
          current === href || (href !== "/" && current.startsWith(href));
        return (
          <a
            href={href}
            class={[
              "group block px-3 py-2 text-sm tracking-wide uppercase transition",
              "border-l-2",
              active
                ? "border-black font-medium"
                : "border-transparent opacity-70 hover:opacity-100"
            ].join(" ")}
          >
            <span class="inline-block translate-x-0 transition group-hover:translate-x-1">
              {label}
            </span>
          </a>
        );
      })
    }
  </nav>

  <div class="absolute right-6 bottom-6 left-6 text-xs opacity-60">
    <a target="_blank" href="https://github.com/Ly4m" rel="noopener noreferrer" class="hover:opacity-100">GitHub</a>
    <span class="mx-2">·</span>
    <a target="_blank" href="https://www.linkedin.com/in/wleemans" rel="noopener noreferrer" class="hover:opacity-100"
    >LinkedIn</a
    >
  </div>
</aside>